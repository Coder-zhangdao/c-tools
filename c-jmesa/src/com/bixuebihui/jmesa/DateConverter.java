package com.bixuebihui.jmesa;import org.apache.commons.beanutils.Converter;import java.sql.Timestamp;import java.text.ParseException;import java.text.SimpleDateFormat;import java.util.Date;import java.util.HashSet;import java.util.Iterator;import java.util.Set;/** * @author xwx */public class DateConverter implements Converter {    /**     * 模式集合.     */    private static Set<String> patterns = new HashSet<>();    static {        DateConverter.patterns.add("yyyy-MM-dd");        DateConverter.patterns.add("yyyy-MM-dd HH:mm");        DateConverter.patterns.add("yyyy-MM-dd HH:mm:ss");        DateConverter.patterns.add("yyyy-MM-dd HH:mm:ss.SSS");        DateConverter.patterns.add("yyyy/MM/dd HH:mm:ss");    }    /**     * 日期转换器.     *     * @param type  Class     * @param value Object     *              return Date Object.     */    @Override    public Object convert(Class type, Object value) {        SimpleDateFormat df = new SimpleDateFormat();        if (value == null) {            return null;        } else if (value instanceof String) {            Date dateObj = null;            Iterator<String> it = patterns.iterator();            while (it.hasNext()) {                try {                    String pattern = it.next();                    df.applyPattern(pattern);                    dateObj = df.parse((String) value);                    if (type == Timestamp.class) {                        dateObj = new Timestamp(dateObj.getTime());                    }                    break;                } catch (ParseException ignored) {                }            }            return dateObj;        } else {            return null;        }    }}